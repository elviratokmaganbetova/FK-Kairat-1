<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ФК: Архитекторы Будущего</title>
    <link rel="stylesheet" href="style.css">
    <script type="importmap">
    {
      "imports": {
        "chart.js": "https://cdn.jsdelivr.net/npm/chart.js@4.4.0/+esm",
        "three": "https://cdn.jsdelivr.net/npm/three@0.158.0/build/three.module.js",
        "three/addons/": "https://cdn.jsdelivr.net/npm/three@0.158.0/examples/jsm/"
      }
    }
    </script>
</head>
<body>
    <div id="game-container">
        <header id="game-header">
            <div id="logo">
                <svg width="80" height="80" viewBox="0 0 80 80">
                    <circle cx="40" cy="40" r="38" fill="#FFCC00" stroke="#000000" stroke-width="2"/>
                    <text x="40" y="45" text-anchor="middle" font-size="12" font-weight="bold">KAIRAT NEXT</text>
                </svg>
            </div>
            <div id="top-menu">
                <button id="btn-season">Сезон</button>
                <button id="btn-academy">Академия</button>
                <button id="btn-staff">Персонал</button>
                <button id="btn-players">Игроки</button>
                <button id="btn-scouting">Скаутинг</button>
                <button id="btn-finance">Финансы</button>
            </div>
            <div id="game-info">
                <div id="current-date">Июль 2023</div>
                <div id="budget">Бюджет: €2,500,000</div>
                <div id="season-goal" class="goal-indicator">Сезон: 1 из 5</div>
            </div>
        </header>

        <main id="game-content">
            <div id="dashboard-view" class="game-view active-view">
                <h1>Добро пожаловать в Академию ФК "Кайрат"</h1>
                <div class="game-objectives">
                    <div class="main-goal">
                        <h2>Ваша главная цель:</h2>
                        <p>За 5 сезонов превратить Академию ФК "Кайрат" в ведущий центр подготовки футболистов в Центральной Азии, стабильно поставляющий таланты для основной команды и национальной сборной, при этом сохраняя финансовую устойчивость.</p>
                        <small>Это потребует стратегического планирования, грамотного управления ресурсами и развития всех аспектов академии.</small>
                    </div>
                    <div class="current-objectives">
                        <h3>Текущие задачи сезона <span id="current-season-display">1</span>:</h3>
                        <ul id="objectives-list">
                            <!-- Objectives will be loaded here by app.js -->
                        </ul>
                        <div class="progress-display">
                            <span>Прогресс выполнения задач сезона: </span>
                            <div class="progress-bar">
                                <div id="season-progress" class="progress" style="width: 0%"></div>
                            </div>
                            <span id="progress-percentage">0%</span>
                        </div>
                        <button id="complete-season" class="btn-primary" disabled>Завершить текущий сезон (Мин. 80% задач)</button>
                    </div>
                </div>
                <div class="dashboard-grid">
                    <div class="dashboard-card">
                        <h3>Молодежные команды</h3>
                        <div class="teams-overview">
                            <div class="team">
                                <h4>U21</h4>
                                <div class="team-stats">
                                    <span>Игроки: 22</span>
                                    <span>Рейтинг: ★★★☆☆</span>
                                    <span>Позиция: 3/12</span>
                                </div>
                            </div>
                            <div class="team">
                                <h4>U19</h4>
                                <div class="team-stats">
                                    <span>Игроки: 24</span>
                                    <span>Рейтинг: ★★★★☆</span>
                                    <span>Позиция: 1/10</span>
                                </div>
                            </div>
                            <div class="team">
                                <h4>U17</h4>
                                <div class="team-stats">
                                    <span>Игроки: 20</span>
                                    <span>Рейтинг: ★★★☆☆</span>
                                    <span>Позиция: 4/8</span>
                                </div>
                            </div>
                            <div class="team">
                                <h4>U15</h4>
                                <div class="team-stats">
                                    <span>Игроки: 18</span>
                                    <span>Рейтинг: ★★★★☆</span>
                                    <span>Позиция: 2/8</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="dashboard-card">
                        <h3>Инфраструктура</h3>
                        <div class="infrastructure-overview">
                            <div class="facility">
                                <h4>Тренировочные поля</h4>
                                <div class="facility-level">
                                    <div class="progress-bar">
                                        <div class="progress" style="width: 75%"></div>
                                    </div>
                                    <span>75%</span>
                                </div>
                            </div>
                            <div class="facility">
                                <h4>Медицинский центр</h4>
                                <div class="facility-level">
                                    <div class="progress-bar">
                                        <div class="progress" style="width: 60%"></div>
                                    </div>
                                    <span>60%</span>
                                </div>
                            </div>
                            <div class="facility">
                                <h4>Тренажерный зал</h4>
                                <div class="facility-level">
                                    <div class="progress-bar">
                                        <div class="progress" style="width: 80%"></div>
                                    </div>
                                    <span>80%</span>
                                </div>
                            </div>
                            <div class="facility">
                                <h4>Общежитие</h4>
                                <div class="facility-level">
                                    <div class="progress-bar">
                                        <div class="progress" style="width: 50%"></div>
                                    </div>
                                    <span>50%</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="dashboard-card">
                        <h3>Талантливые воспитанники</h3>
                        <div class="talents-overview">
                            <div class="player">
                                <div class="player-avatar"></div>
                                <div class="player-info">
                                    <h4>Аскар Жумабеков</h4>
                                    <span>19 лет, ОП</span>
                                    <div class="player-potential">
                                        <span>Потенциал:</span>
                                        <div class="stars">★★★★★</div>
                                    </div>
                                </div>
                            </div>
                            <div class="player">
                                <div class="player-avatar"></div>
                                <div class="player-info">
                                    <h4>Бауыржан Оразов</h4>
                                    <span>17 лет, ЦЗ</span>
                                    <div class="player-potential">
                                        <span>Потенциал:</span>
                                        <div class="stars">★★★★☆</div>
                                    </div>
                                </div>
                            </div>
                            <div class="player">
                                <div class="player-avatar"></div>
                                <div class="player-info">
                                    <h4>Тимур Алиев</h4>
                                    <span>16 лет, НП</span>
                                    <div class="player-potential">
                                        <span>Потенциал:</span>
                                        <div class="stars">★★★★☆</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="dashboard-card">
                        <h3>Финансовый обзор</h3>
                        <div class="finance-overview">
                            <canvas id="dashboard-finance-chart"></canvas> 
                        </div>
                    </div>

                    <div class="dashboard-card">
                        <h3>Календарь</h3>
                        <div class="calendar-overview">
                            <div class="upcoming-event">
                                <div class="event-date">15 Июля</div>
                                <div class="event-description">Старт предсезонных сборов U19</div>
                            </div>
                            <div class="upcoming-event">
                                <div class="event-date">20 Июля</div>
                                <div class="event-description">Товарищеский матч: U21 vs ФК "Астана" U21</div>
                            </div>
                            <div class="upcoming-event">
                                <div class="event-date">1 Августа</div>
                                <div class="event-description">Начало набора в группу U10</div>
                            </div>
                            <div class="upcoming-event">
                                <div class="event-date">10 Августа</div>
                                <div class="event-description">Старт молодежного чемпионата</div>
                            </div>
                        </div>
                    </div>

                    <div class="dashboard-card">
                        <h3>Прогресс выпускников</h3>
                        <div class="graduates-overview">
                            <div class="progress-stat">
                                <span>Основная команда:</span>
                                <div class="progress-bar">
                                    <div class="progress" style="width: 35%"></div>
                                </div>
                                <span>35%</span>
                            </div>
                            <div class="progress-stat">
                                <span>Профессиональные клубы:</span>
                                <div class="progress-bar">
                                    <div class="progress" style="width: 65%"></div>
                                </div>
                                <span>65%</span>
                            </div>
                            <div class="progress-stat">
                                <span>Национальная сборная:</span>
                                <div class="progress-bar">
                                    <div class="progress" style="width: 15%"></div>
                                </div>
                                <span>15%</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div id="academy-view" class="game-view">
                <h2>Управление Академией</h2>
                <div id="academy-infrastructure">
                    <h3>Инфраструктура</h3>
                    <div id="infrastructure-3d-view"></div>
                    <div id="facility-details">
                        <h4>Выберите объект для улучшения</h4>
                    </div>
                </div>
            </div>

            <div id="staff-view" class="game-view">
                <h2>Персонал Академии</h2>
                <div class="staff-controls">
                    <button id="hire-staff">Нанять сотрудника</button>
                    <select id="staff-filter">
                        <option value="all">Все сотрудники</option>
                        <option value="coaches">Тренеры</option>
                        <option value="scouts">Скауты</option>
                        <option value="medical">Медперсонал</option>
                    </select>
                </div>
                <div id="staff-list">
                    <!-- Staff members will be loaded here -->
                </div>
            </div>

            <div id="players-view" class="game-view">
                <h2>Игроки Академии</h2>
                <div class="players-controls">
                    <select id="team-filter">
                        <option value="all">Все команды</option>
                        <option value="u21">U21</option>
                        <option value="u19">U19</option>
                        <option value="u17">U17</option>
                        <option value="u15">U15</option>
                        <option value="u13">U13</option>
                        <option value="u11">U11</option>
                    </select>
                    <select id="position-filter">
                        <option value="all">Все позиции</option>
                        <option value="gk">Вратари</option>
                        <option value="def">Защитники</option>
                        <option value="mid">Полузащитники</option>
                        <option value="att">Нападающие</option>
                    </select>
                    <select id="potential-filter">
                        <option value="all">Весь потенциал</option>
                        <option value="5">★★★★★</option>
                        <option value="4">★★★★☆</option>
                        <option value="3">★★★☆☆</option>
                        <option value="2">★★☆☆☆</option>
                        <option value="1">★☆☆☆☆</option>
                    </select>
                </div>
                <div id="players-list">
                    <!-- Players will be loaded here -->
                </div>
            </div>

            <div id="scouting-view" class="game-view">
                <h2>Скаутинг</h2>
                <div id="scouting-map-container">
                    <div id="kazakhstan-map"></div>
                    <div id="scouting-controls">
                        <h3>Настройки скаутинга</h3>
                        <div class="control-group">
                            <label>Бюджет скаутинга:</label>
                            <span id="scout-budget">€150,000</span>
                        </div>
                        <div class="control-group">
                            <label>Приоритетный возраст:</label>
                            <select id="priority-age">
                                <option value="6-9">6-9 лет</option>
                                <option value="10-12">10-12 лет</option>
                                <option value="13-15">13-15 лет</option>
                                <option value="16-18">16-18 лет</option>
                            </select>
                        </div>
                        <div class="control-group">
                            <label>Приоритетные позиции:</label>
                            <div class="checkbox-group">
                                <label><input type="checkbox" value="gk"> Вратари</label>
                                <label><input type="checkbox" value="def"> Защитники</label>
                                <label><input type="checkbox" value="mid"> Полузащитники</label>
                                <label><input type="checkbox" value="att"> Нападающие</label>
                            </div>
                        </div>
                        <button id="assign-scouts">Назначить скаутов</button>
                    </div>
                </div>
                <div id="scouting-reports">
                    <h3>Отчеты скаутов</h3>
                    <div id="reports-list">
                        <!-- Scouting reports will be loaded here -->
                    </div>
                </div>
            </div>

            <div id="finance-view" class="game-view">
                <h2>Финансы</h2>
                <div class="finance-controls">
                    <button id="request-funds">Запросить дополнительное финансирование</button>
                </div>
                <div class="finance-overview">
                    <div class="budget-allocation">
                        <h3>Распределение бюджета</h3>
                        <canvas id="budget-chart"></canvas>
                        <div id="budget-sliders">
                            <div class="slider-group">
                                <label>Зарплаты персонала: <span id="salaries-value">35%</span></label>
                                <input type="range" id="salaries-slider" min="20" max="50" value="35">
                            </div>
                            <div class="slider-group">
                                <label>Скаутинг: <span id="scouting-value">15%</span></label>
                                <input type="range" id="scouting-slider" min="5" max="25" value="15">
                            </div>
                            <div class="slider-group">
                                <label>Инфраструктура: <span id="infrastructure-value">30%</span></label>
                                <input type="range" id="infrastructure-slider" min="20" max="40" value="30">
                            </div>
                            <div class="slider-group">
                                <label>Турниры и сборы: <span id="tournaments-value">10%</span></label>
                                <input type="range" id="tournaments-slider" min="5" max="20" value="10">
                            </div>
                            <div class="slider-group">
                                <label>Медицина: <span id="medical-value">10%</span></label>
                                <input type="range" id="medical-slider" min="5" max="20" value="10">
                            </div>
                        </div>
                        <button id="save-budget">Сохранить распределение</button>
                    </div>
                    <div class="financial-reports">
                        <h3>Финансовые отчеты</h3>
                        <div class="report-tabs">
                            <button class="tab-btn active" data-tab="income">Доходы</button>
                            <button class="tab-btn" data-tab="expenses">Расходы</button>
                            <button class="tab-btn" data-tab="roi">ROI</button>
                        </div>
                        <div id="financial-charts">
                            <canvas id="financial-report-chart"></canvas> 
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <div id="game-events" class="hidden">
            <div class="event-window">
                <div class="event-header">
                    <h3 id="event-title">Новое событие</h3>
                    <button id="close-event">×</button>
                </div>
                <div id="event-content">
                    <!-- Event content will be loaded here -->
                </div>
                <div id="event-options">
                    <!-- Event options will be loaded here -->
                </div>
            </div>
        </div>
    </div>

    <script type="module" src="config.js"></script>
    <script type="module" src="app.js"></script>
</body>
</html>
